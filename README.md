## API Documentation
OpenAPI 3.0.3 specification.

#**Алгоритм работы метода POST /projects/{projectId}/boards**

1. Клиент вызывает метод создания/копирования доски с телом запроса и заголовком Idempotency-Key;

2. API проверяет авторизацию пользователя:
  - если пользователь не авторизован, то возвращается 401;
  - если пользователь авторизован, то переход к следующему шагу;

3. API извлекает {projectId} из URL.

4. API проверяет существование проекта {projectId}:
  - если проект не найден, то возвращается 404;
  - если проект существует, то переход к следующему шагу.

5. API проверяет права пользователя на создание доски в проекте:
  - если прав нет, то возвращается 403;
  - если права есть, то переход к следующему шагу.

6. API валидирует тело запроса:
  - если тело запроса невалидно, то возвращается 400;
  - если тело запроса валидно, то переход к следующему шагу.

7. API проверяет заголовок Idempotency-Key:
  - если ключ уже использовался ранее, то возвращается 201 с ранее созданной доской;
  - если ключ уникален, то переход к следующему шагу.

8. API генерирует boardId, фиксирует createdBy и createdAt.

9. API сохраняет новую доску в хранилище.

10. API возвращает успешный ответ 200 с данными созданной доски (идентификатор, URL, кто и когда создал).

#**Алгоритм работы метода DELETE /projects/{projectId}/boards/{boardId}**

1. Клиент вызывает метод удаления доски, передавая {projectId} и {boardId} в URL.

2. API проверяет авторизацию пользователя:
  - если пользователь не авторизован, то возвращается 401;
  - если пользователь авторизован, то переход к следующему шагу.

3. API извлекает {projectId} и {boardId} из URL.

4. API проверяет существование проекта {projectId}:
  - если проект не найден, то возвращается 404;
  - если проект существует, то переход к следующему шагу.

5. API проверяет существование доски {boardId} в рамках проекта:
  - если доска не найдена, то возвращается 404;
  - если доска существует, то переход к следующему шагу.

6. API проверяет права пользователя на удаление доски:
  - если прав нет, то возвращается 403;
  - если права есть, то переход к следующему шагу.

7. API выполняет операцию удаления доски из хранилища.

8. API возвращает успешный ответ 200.

Примечание: повторный вызов метода для уже удалённой доски приводит к 404.

#**Алгоритм работы метода GET /projects/{projectId}/boards/{boardId}/polygons**

1. Клиент вызывает метод получения списка многоугольников доски, передавая {projectId}, {boardId} и опциональные query-параметры (limit, offset, polygonId, sort, order).

2. API проверяет авторизацию пользователя:
  - если пользователь не авторизован, то возвращается 401;
  - если пользователь авторизован, то переход к следующему шагу.

3. API извлекает {projectId} и {boardId} из URL.

4. API проверяет существование проекта {projectId}:
  - если проект не найден, то возвращается 404;
  - если проект существует, то переход к следующему шагу.

5. API проверяет существование доски {boardId} в рамках проекта:
  - если доска не найдена, то возвращается 404;
  - если доска существует, то переход к следующему шагу.

6. API проверяет права пользователя на просмотр доски:
  - если прав нет, то возвращается 403;
  - если права есть, то переход к следующему шагу.

7. API валидирует query-параметры:
  - если параметры невалидны, то возвращается 400;
  - если параметры валидны, то переход к следующему шагу.

8. API извлекает список многоугольников доски из хранилища с учётом фильтрации, сортировки и пагинации.

9. API возвращает успешный ответ 200 со списком многоугольников в формате JSON.
